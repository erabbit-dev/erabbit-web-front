{"version":3,"sources":["webpack:///./src/views/goods/components/goods-tabs.vue?0dda","webpack:///./src/views/goods/components/goods-comment.vue?ddaf","webpack:///./src/views/goods/components/goods-relevant.vue","webpack:///./src/views/goods/components/goods-relevant.vue?6355","webpack:///./src/views/goods/index.vue?d2c3","webpack:///./src/views/goods/components/goods-warn.vue?2101","webpack:///./src/views/goods/components/goods-sales.vue?eb62","webpack:///./src/views/category/components/goods-item.vue?d92e","webpack:///./src/views/goods/components/goods-comment-image.vue?3474","webpack:///./src/views/goods/components/goods-detial.vue?ac6d","webpack:///./src/views/goods/components/goods-relevant.vue?0f7f","webpack:///./src/views/goods/components/goods-name.vue?47cb","webpack:///./src/views/category/components/goods-item.vue","webpack:///./src/views/category/components/goods-item.vue?ffe0","webpack:///./src/views/goods/index.vue","webpack:///./src/views/goods/components/goods-image.vue","webpack:///./src/views/goods/components/goods-image.vue?872b","webpack:///./src/views/goods/components/goods-sales.vue","webpack:///./src/views/goods/components/goods-sales.vue?9d38","webpack:///./src/views/goods/components/goods-name.vue","webpack:///./src/views/goods/components/goods-name.vue?52d6","webpack:///./src/views/goods/components/goods-tabs.vue","webpack:///./src/views/goods/components/goods-detial.vue","webpack:///./src/views/goods/components/goods-detial.vue?4311","webpack:///./src/views/goods/components/goods-comment.vue","webpack:///./src/views/goods/components/goods-comment-image.vue","webpack:///./src/views/goods/components/goods-comment-image.vue?0003","webpack:///./src/views/goods/components/goods-comment.vue?362f","webpack:///./src/views/goods/components/goods-tabs.vue?4d6d","webpack:///./src/views/goods/components/goods-hot.vue","webpack:///./src/views/goods/components/goods-hot.vue?15c7","webpack:///./src/views/goods/components/goods-warn.vue","webpack:///./src/views/goods/components/goods-warn.vue?fba7","webpack:///./src/views/goods/index.vue?e5c8","webpack:///./src/views/goods/components/goods-image.vue?1858","webpack:///./src/views/goods/components/goods-hot.vue?d144","webpack:///./src/api/product.js","webpack:///./src/views/goods/components/goods-sku.vue?4de0","webpack:///./src/views/goods/components/goods-sku.vue","webpack:///./src/vender/power-set.js","webpack:///./src/views/goods/components/goods-sku.vue?87be"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$props","goodsId","_createVNode","_component_XtxCarousel","sliders","$setup","name","props","type","String","default","setup","ref","findRelevantGoods","id","then","data","pageSize","pageCount","Math","ceil","result","length","i","value","push","slice","__exports__","render","alt","href","isLink","_createBlock","_component_RouterLink","to","goods","picture","desc","price","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","Object","Boolean","loading","_component_XtxBread","_component_XtxBreadItem","categories","_component_GoodsImage","images","mainPictures","_component_GoodsSales","_component_GoodsName","_component_GoodsSku","onChange","changeSku","_component_XtxNumbox","label","num","$event","max","inventory","_component_XtxButton","onClick","_cache","insertCart","style","_component_GoodsRelevant","_component_GoodsTabs","_component_GoodsWarn","_component_GoodsHot","_normalizeStyle","backgroundImage","currIndex","largePosition","show","src","layerPosition","_Fragment","_renderList","img","key","_normalizeClass","active","onMouseenter","Array","reactive","left","top","backgroundPositionX","backgroundPositionY","target","elementX","elementY","isOutside","useMouseInElement","watch","position","x","y","oldPrice","_component_XtxCity","changeCity","fullLocation","provinceCode","cityCode","countyCode","userAddresses","defaultAddresss","find","item","isDefualt","activeName","commentCount","_resolveDynamicComponent","details","properties","pictures","inject","commentInfo","salesCount","praisePercent","tags","title","currentTagIndex","changeTag","tagCount","_hoisted_10","_hoisted_11","changeSort","reqParams","sortField","commentList","_hoisted_12","_hoisted_13","member","avatar","formatNickname","nickname","_hoisted_15","_hoisted_16","score","_hoisted_17","formatSpecs","orderInfo","specs","_hoisted_18","content","_component_GoodsCommentImage","_hoisted_19","createTime","_hoisted_20","_hoisted_21","praiseCount","total","_component_XtxPagination","onCurrentChange","changePagerFn","page-size","current-page","page","url","currImg","components","GoodsCommentImage","findGoodsCommentInfo","unshift","hasPictureCount","evaluateCount","tag","hasPicture","findGoodsCommentList","items","counts","immediate","reduce","p","c","nameValue","trim","substr","newPage","GoodsDetial","GoodsComment","goodsList","_component_GoodsItem","GoodsItem","Number","types","1","2","3","computed","route","useRoute","findGoodsHot","params","script","GoodsRelevant","GoodsImage","GoodsSales","GoodsName","GoodsSku","GoodsTabs","GoodsHot","GoodsWarn","useGoods","sku","skuId","currSku","provide","store","useStore","specsText","attrsText","stock","dispatch","nowPrice","selected","isEffective","count","Message","text","newVal","path","findGoods","nextTick","request","limit","values","val","disabled","bwPowerSet","originalSet","subSets","numberOfCombinations","combinationIndex","subSet","setElementIndex","spliter","getPathMap","skus","pathMap","forEach","valueArr","map","valueName","valueArrPowerSet","powerSet","arr","join","getSelectedValues","seletedVal","undefined","updateDisabledStatus","selectedValues","filter","initDefaultSelected","emit","valItem","validSelectedValues","v","skuIds"],"mappings":"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","file":"js/chunk-6c3ff719.569a1aca.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-tabs.vue?vue&type=style&index=0&id=8f5c12d6&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-comment.vue?vue&type=style&index=0&id=11a3bb63&scoped=true&lang=less\"","<template>\n  <div class=\"goods-relevant\">\n    <div class=\"header\">\n      <i class=\"icon\" />\n      <span class=\"title\">{{goodsId?'同类商品推荐':'猜你喜欢'}}</span>\n    </div>\n    <!-- 此处使用改造后的xtx-carousel.vue -->\n    <XtxCarousel :sliders=\"sliders\" />\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { findRelevantGoods } from '@/api/product'\nexport default {\n  // 同类推荐，猜你喜欢\n  name: 'GoodsRelevant',\n  props: {\n    goodsId: {\n      type: String,\n      default: ''\n    }\n  },\n  setup (props) {\n    // 最终需要的数据是 sliders 提供给轮播图使用\n    // 数据结构：sliders = [[4个],[4个],[4个],[4个]]\n    const sliders = ref([])\n    findRelevantGoods({ id: props.goodsId }).then(data => {\n      // data.result 商品列表，数据结构 [16个]\n      // 将data.result数据赋值给sliders数据，保证数据结构正确\n      const pageSize = 4\n      const pageCount = Math.ceil(data.result.length / pageSize)\n      for (let i = 0; i < pageCount; i++) {\n        sliders.value.push(data.result.slice(pageSize * i, pageSize * (i + 1)))\n      }\n    })\n    return { sliders }\n  }\n}\n</script>\n\n<style scoped lang='less'>\n.goods-relevant {\n  background: #fff;\n  min-height: 460px;\n  margin-top: 20px;\n  .header {\n    height: 80px;\n    line-height: 80px;\n    padding: 0 20px;\n    .title {\n      font-size: 20px;\n      padding-left: 10px;\n    }\n    .icon {\n      width: 16px;\n      height: 16px;\n      display: inline-block;\n      border-top: 4px solid @xtxColor;\n      border-right: 4px solid @xtxColor;\n      box-sizing: border-box;\n      position: relative;\n      transform: rotate(45deg);\n      &::before {\n        content: \"\";\n        width: 10px;\n        height: 10px;\n        position: absolute;\n        left: 0;\n        top: 2px;\n        background: lighten(@xtxColor, 40%);\n      }\n    }\n  }\n}\n:deep(.xtx-carousel) {\n  height: 380px;\n  .carousel {\n    &-indicator {\n      bottom: 30px;\n      span {\n        &.active {\n          background: @xtxColor;\n        }\n      }\n    }\n    &-btn {\n      top: 110px;\n      opacity: 1;\n      background: rgba(0,0,0,0);\n      color: #ddd;\n      i {\n        font-size: 30px;\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./goods-relevant.vue?vue&type=template&id=9032cb82&scoped=true\"\nimport script from \"./goods-relevant.vue?vue&type=script&lang=js\"\nexport * from \"./goods-relevant.vue?vue&type=script&lang=js\"\n\nimport \"./goods-relevant.vue?vue&type=style&index=0&id=9032cb82&scoped=true&lang=less\"\n\nimport exportComponent from \"/home/runner/work/erabbit-web-front/erabbit-web-front/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9032cb82\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=720f8111&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-warn.vue?vue&type=style&index=0&id=2d293123&lang=less&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-sales.vue?vue&type=style&index=0&id=ca3db56a&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-item.vue?vue&type=style&index=0&id=3828c3be&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-comment-image.vue?vue&type=style&index=0&id=2174e057&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-detial.vue?vue&type=style&index=0&id=2c43c764&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-relevant.vue?vue&type=style&index=0&id=9032cb82&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-name.vue?vue&type=style&index=0&id=af785f8a&lang=less&scoped=true\"","<template>\n  <RouterLink v-if=\"isLink\" :to=\"`/product/${goods.id}`\" class='goods-item'>\n    <img v-lazy=\"goods.picture\" alt=\"\">\n    <p class=\"name ellipsis\">{{goods.name}}</p>\n    <p class=\"desc ellipsis\">{{goods.desc}}</p>\n    <p class=\"price\">&yen;{{goods.price}}</p>\n  </RouterLink>\n  <a v-else href=\"javascript:;\" class='goods-item'>\n    <img v-lazy=\"goods.picture\" alt=\"\">\n    <p class=\"name ellipsis\">{{goods.name}}</p>\n    <p class=\"desc ellipsis\">{{goods.desc}}</p>\n    <p class=\"price\">&yen;{{goods.price}}</p>\n  </a>\n</template>\n\n<script>\nexport default {\n  name: 'GoodsItem',\n  props: {\n    goods: {\n      type: Object,\n      default: () => ({})\n    },\n    isLink: {\n      type: Boolean,\n      default: true\n    }\n  }\n}\n</script>\n\n<style scoped lang='less'>\n.goods-item {\n  display: block;\n  width: 220px;\n  padding: 20px 30px;\n  text-align: center;\n  .hoverShadow();\n  img {\n    width: 160px;\n    height: 160px;\n  }\n  p {\n    padding-top: 10px;\n  }\n  .name {\n    font-size: 16px;\n  }\n  .desc {\n    color: #999;\n    height: 29px;\n  }\n  .price {\n    color: @priceColor;\n    font-size: 20px;\n  }\n}\n</style>\n","import { render } from \"./goods-item.vue?vue&type=template&id=3828c3be&scoped=true\"\nimport script from \"./goods-item.vue?vue&type=script&lang=js\"\nexport * from \"./goods-item.vue?vue&type=script&lang=js\"\n\nimport \"./goods-item.vue?vue&type=style&index=0&id=3828c3be&scoped=true&lang=less\"\n\nimport exportComponent from \"/home/runner/work/erabbit-web-front/erabbit-web-front/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3828c3be\"]])\n\nexport default __exports__","<template>\n  <div class='xtx-goods-page'>\n    <div class=\"container\" v-if=\"!loading && goods\">\n      <!-- 面包屑 -->\n      <XtxBread>\n        <XtxBreadItem to=\"/\">首页</XtxBreadItem>\n        <XtxBreadItem :to=\"`/category/${goods.categories[1].id}`\">{{goods.categories[1].name}}</XtxBreadItem>\n        <XtxBreadItem :to=\"`/category/sub/${goods.categories[0].id}`\">{{goods.categories[0].name}}</XtxBreadItem>\n        <XtxBreadItem>{{goods.name}}</XtxBreadItem>\n      </XtxBread>\n      <!-- 商品信息 -->\n      <div class=\"goods-info\">\n        <div class=\"media\">\n          <GoodsImage :images=\"goods.mainPictures\" />\n          <GoodsSales />\n        </div>\n        <div class=\"spec\">\n          <GoodsName :goods=\"goods\" />\n          <!-- sku组件 skuId=\"1369155865461919746\" 测试选中 -->\n          <GoodsSku :goods=\"goods\" @change=\"changeSku\" />\n          <!-- 数量选择组件 -->\n          <XtxNumbox label=\"数量\" v-model=\"num\" :max=\"goods.inventory\" />\n          <!-- 按钮组件 -->\n          <XtxButton @click=\"insertCart()\" type=\"primary\" style=\"margin-top:20px\">加入购物车</XtxButton>\n        </div>\n      </div>\n      <!-- 商品推荐 -->\n      <GoodsRelevant :goodsId=\"goods.id\" />\n      <!-- 商品详情 -->\n      <div class=\"goods-footer\">\n        <div class=\"goods-article\">\n          <!-- 商品+评价 -->\n          <GoodsTabs />\n          <!-- 注意事项 -->\n          <GoodsWarn />\n        </div>\n        <!-- 24热榜+周热销榜 -->\n        <div class=\"goods-aside\">\n          <GoodsHot />\n          <GoodsHot :type=\"2\" />\n        </div>\n      </div>\n    </div>\n    <div v-else class=\"loading\"></div>\n  </div>\n</template>\n\n<script>\nimport GoodsRelevant from './components/goods-relevant'\nimport GoodsImage from './components/goods-image'\nimport GoodsSales from './components/goods-sales'\nimport GoodsName from './components/goods-name'\nimport GoodsSku from './components/goods-sku'\nimport GoodsTabs from './components/goods-tabs'\nimport GoodsHot from './components/goods-hot'\nimport GoodsWarn from './components/goods-warn'\nimport { nextTick, provide, ref, watch } from 'vue'\nimport { findGoods } from '@/api/product'\nimport { useRoute } from 'vue-router'\nimport { useStore } from 'vuex'\nimport Message from '@/components/library/Message'\nexport default {\n  name: 'XtxGoodsPage',\n  components: { GoodsRelevant, GoodsImage, GoodsSales, GoodsName, GoodsSku, GoodsTabs, GoodsHot, GoodsWarn },\n  setup () {\n    const { goods, loading } = useGoods()\n    const changeSku = (sku) => {\n      // 修改商品的现价原价库存信息\n      if (sku.skuId) {\n        goods.value.price = sku.price\n        goods.value.oldPrice = sku.oldPrice\n        goods.value.inventory = sku.inventory\n      }\n      // 记录选择后的sku，可能有数据，可能没有数据{}\n      currSku.value = sku\n    }\n\n    // 提供goods数据给后代组件使用\n    provide('goods', goods)\n\n    // 选择的数量\n    const num = ref(1)\n\n    // 加入购物车\n    const store = useStore()\n    const currSku = ref(null)\n    const insertCart = () => {\n      if (currSku.value && currSku.value.skuId) {\n        // id skuId name attrsText picture price nowPrice selected stock count isEffective\n        const { skuId, specsText: attrsText, inventory: stock } = currSku.value\n        const { id, name, price, mainPictures } = goods.value\n        store.dispatch('cart/insertCart', {\n          skuId,\n          attrsText,\n          stock,\n          id,\n          name,\n          price,\n          nowPrice: price,\n          picture: mainPictures[0],\n          selected: true,\n          isEffective: true,\n          count: num.value\n        }).then(() => {\n          Message({ type: 'success', text: '加入购物车成功' })\n        })\n      } else {\n        Message({ text: '请选择完整规格' })\n      }\n    }\n\n    return { goods, loading, changeSku, num, insertCart }\n  }\n}\n// 获取商品详情\nconst useGoods = () => {\n  // 出现路由地址商品ID发生变化，但是不会重新初始化组件\n  const goods = ref(null)\n  const route = useRoute()\n  const loading = ref(false)\n  watch(() => route.params.id, (newVal) => {\n    if (newVal && `/product/${newVal}` === route.path) {\n      loading.value = true\n      findGoods(route.params.id).then(data => {\n        // 让商品数据为null然后使用v-if的组件可以重新销毁和创建\n        goods.value = null\n        nextTick(() => {\n          goods.value = data.result\n          loading.value = false\n        })\n      })\n    }\n  }, { immediate: true })\n  return { goods, loading }\n}\n</script>\n\n<style scoped lang='less'>\n.loading {\n  height: 580px;\n  width: 1240px;\n  margin: 72px auto 20px;\n  background: rgba(255,255,255,.9) url(../../assets/images/loading.gif) no-repeat center;\n}\n.goods-info {\n  min-height: 600px;\n  background: #fff;\n  display: flex;\n  .media {\n    width: 580px;\n    height: 600px;\n    padding: 30px 50px;\n  }\n  .spec {\n    flex: 1;\n    padding: 30px 30px 30px 0;\n  }\n}\n.goods-footer {\n  display: flex;\n  margin-top: 20px;\n  .goods-article {\n    width: 940px;\n    margin-right: 20px;\n  }\n  .goods-aside {\n    width: 280px;\n    min-height: 1000px;\n  }\n}\n// .goods-tabs {\n//   min-height: 600px;\n//   background: #fff;\n// }\n// .goods-warn {\n//   min-height: 600px;\n//   background: #fff;\n//   margin-top: 20px;\n// }\n</style>\n","<template>\n  <div class=\"goods-image\">\n    <!-- 大图 -->\n    <div v-show=\"show\" class=\"large\" :style=\"[{backgroundImage:`url(${images[currIndex]})`},largePosition]\"></div>\n    <!-- 中图 -->\n    <div class=\"middle\" ref=\"target\">\n      <img :src=\"images[currIndex]\" alt=\"\">\n      <!-- 遮罩色块 -->\n      <div v-show=\"show\" class=\"layer\" :style=\"layerPosition\"></div>\n    </div>\n    <!-- 小图 -->\n    <ul class=\"small\">\n      <li v-for=\"(img,i) in images\" :key=\"img\" :class=\"{active:i===currIndex}\">\n        <img @mouseenter=\"currIndex=i\" :src=\"img\" alt=\"\">\n      </li>\n    </ul>\n  </div>\n</template>\n<script>\nimport { reactive, ref, watch } from 'vue'\nimport { useMouseInElement } from '@vueuse/core'\nexport default {\n  name: 'GoodsImage',\n  props: {\n    images: {\n      type: Array,\n      default: () => []\n    }\n  },\n  setup (props) {\n    // 当前预览图的索引\n    const currIndex = ref(0)\n\n    // 1. 是否显示遮罩和大图\n    const show = ref(false)\n    // 2. 遮罩的坐标(样式)\n    const layerPosition = reactive({\n      left: 0,\n      top: 0\n    })\n    // 3. 大图背景定位(样式)\n    const largePosition = reactive({\n      backgroundPositionX: 0,\n      backgroundPositionY: 0\n    })\n    // 4. 使用useMouseInElement得到基于元素左上角的坐标和是否离开元素数据\n    const target = ref(null)\n    const { elementX, elementY, isOutside } = useMouseInElement(target)\n    watch([elementX, elementY, isOutside], () => {\n      // 5. 根据得到数据设置样式数据和是否显示数据\n      show.value = !isOutside.value\n      // 计算坐标\n      const position = { x: 0, y: 0 }\n\n      if (elementX.value < 100) position.x = 0\n      else if (elementX.value > 300) position.x = 200\n      else position.x = elementX.value - 100\n\n      if (elementY.value < 100) position.y = 0\n      else if (elementY.value > 300) position.y = 200\n      else position.y = elementY.value - 100\n      // 给样式赋值\n      layerPosition.left = position.x + 'px'\n      layerPosition.top = position.y + 'px'\n      largePosition.backgroundPositionX = -2 * position.x + 'px'\n      largePosition.backgroundPositionY = -2 * position.y + 'px'\n    })\n\n    return { currIndex, show, layerPosition, largePosition, target }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n.goods-image {\n  width: 480px;\n  height: 400px;\n  position: relative;\n  display: flex;\n  z-index: 500;\n  .large {\n    position: absolute;\n    top: 0;\n    left: 412px;\n    width: 400px;\n    height: 400px;\n    box-shadow: 0 0 10px rgba(0,0,0,0.1);\n    background-repeat: no-repeat;\n    background-size: 800px 800px;\n    background-color: #f8f8f8;\n  }\n  .middle {\n    width: 400px;\n    height: 400px;\n    background: #f5f5f5;\n    position: relative;\n    cursor: move;\n    .layer {\n      width: 200px;\n      height: 200px;\n      background: rgba(0,0,0,.2);\n      left: 0;\n      top: 0;\n      position: absolute;\n    }\n  }\n  .small {\n    width: 80px;\n    li {\n      width: 68px;\n      height: 68px;\n      margin-left: 12px;\n      margin-bottom: 15px;\n      cursor: pointer;\n      &:hover,&.active {\n        border: 2px solid @xtxColor;\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./goods-image.vue?vue&type=template&id=4e17a18a&scoped=true\"\nimport script from \"./goods-image.vue?vue&type=script&lang=js\"\nexport * from \"./goods-image.vue?vue&type=script&lang=js\"\n\nimport \"./goods-image.vue?vue&type=style&index=0&id=4e17a18a&scoped=true&lang=less\"\n\nimport exportComponent from \"/home/runner/work/erabbit-web-front/erabbit-web-front/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4e17a18a\"]])\n\nexport default __exports__","<template>\n  <ul class=\"goods-sales\">\n    <li>\n      <p>销量人气</p>\n      <p>200+</p>\n      <p><i class=\"iconfont icon-task-filling\"></i>销量人气</p>\n    </li>\n    <li>\n      <p>商品评价</p>\n      <p>400+</p>\n      <p><i class=\"iconfont icon-comment-filling\"></i>查看评价</p>\n    </li>\n    <li>\n      <p>收藏人气</p>\n      <p>600+</p>\n      <p><i class=\"iconfont icon-favorite-filling\"></i>收藏商品</p>\n    </li>\n    <li>\n      <p>品牌信息</p>\n      <p>苏宁电器</p>\n      <p><i class=\"iconfont icon-dynamic-filling\"></i>品牌主页</p>\n    </li>\n  </ul>\n</template>\n\n<script>\nexport default {\n  name: 'GoodsSales'\n}\n</script>\n\n<style scoped lang='less'>\n.goods-sales {\n  display: flex;\n  width: 400px;\n  align-items: center;\n  text-align: center;\n  height: 140px;\n  li {\n    flex: 1;\n    position: relative;\n    ~ li::after {\n      position: absolute;\n      top: 10px;\n      left: 0;\n      height: 60px;\n      border-left: 1px solid #e4e4e4;\n      content: \"\";\n    }\n    p {\n      &:first-child {\n        color: #999;\n      }\n      &:nth-child(2) {\n        color: @priceColor;\n        margin-top: 10px;\n      }\n      &:last-child {\n        color: #666;\n        margin-top: 10px;\n        i {\n          color: @xtxColor;\n          font-size: 14px;\n          margin-right: 2px;\n        }\n        &:hover {\n          color: @xtxColor;\n          cursor: pointer;\n        }\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./goods-sales.vue?vue&type=template&id=ca3db56a&scoped=true\"\nimport script from \"./goods-sales.vue?vue&type=script&lang=js\"\nexport * from \"./goods-sales.vue?vue&type=script&lang=js\"\n\nimport \"./goods-sales.vue?vue&type=style&index=0&id=ca3db56a&scoped=true&lang=less\"\n\nimport exportComponent from \"/home/runner/work/erabbit-web-front/erabbit-web-front/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ca3db56a\"]])\n\nexport default __exports__","<template>\n  <p class=\"g-name\">{{goods.name}}</p>\n  <p class=\"g-desc\">{{goods.desc}}</p>\n  <p class=\"g-price\">\n    <span>{{goods.price}}</span>\n    <span>{{goods.oldPrice}}</span>\n  </p>\n  <div class=\"g-service\">\n    <dl>\n      <dt>促销</dt>\n      <dd>12月好物放送，App领券购买直降120元</dd>\n    </dl>\n    <dl>\n      <dt>配送</dt>\n      <dd>\n        <b style=\"vertical-align: middle; padding-right: 5px;font-weight:normal\">至</b>\n        <XtxCity @change=\"changeCity\" :fullLocation=\"fullLocation\" />\n      </dd>\n    </dl>\n    <dl>\n      <dt>服务</dt>\n      <dd>\n        <span>无忧退货</span>\n        <span>快速退款</span>\n        <span>免费包邮</span>\n        <a href=\"javascript:;\">了解详情</a>\n      </dd>\n    </dl>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue'\nexport default {\n  name: 'GoodName',\n  props: {\n    goods: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  setup (props) {\n    // 提供给后台的四项数据 (没登录)\n    const provinceCode = ref('110000')\n    const cityCode = ref('119900')\n    const countyCode = ref('110101')\n    const fullLocation = ref('北京市 市辖区 东城区')\n    // 取出用户收货地址中默认的地址给四个数据赋值 (已登录)\n    if (props.goods.userAddresses) {\n      const defaultAddresss = props.goods.userAddresses.find(item => item.isDefualt === 1)\n      if (defaultAddresss) {\n        provinceCode.value = defaultAddresss.provinceCode\n        cityCode.value = defaultAddresss.cityCode\n        countyCode.value = defaultAddresss.countyCode\n        fullLocation.value = defaultAddresss.fullLocation\n      }\n    }\n    // 城市选中事件处理函数\n    const changeCity = (result) => {\n      provinceCode.value = result.provinceCode\n      cityCode.value = result.cityCode\n      countyCode.value = result.countyCode\n      fullLocation.value = result.fullLocation\n    }\n    return { fullLocation, changeCity }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.xtx-city {\n  vertical-align: middle;\n}\n.g-name {\n  font-size: 22px\n}\n.g-desc {\n  color: #999;\n  margin-top: 10px;\n}\n.g-price {\n  margin-top: 10px;\n  span {\n    &::before {\n      content: \"¥\";\n      font-size: 14px;\n    }\n    &:first-child {\n      color: @priceColor;\n      margin-right: 10px;\n      font-size: 22px;\n    }\n    &:last-child {\n      color: #999;\n      text-decoration: line-through;\n      font-size: 16px;\n    }\n  }\n}\n.g-service {\n  background: #f5f5f5;\n  width: 500px;\n  padding: 20px 10px 0 10px;\n  margin-top: 10px;\n  dl {\n    padding-bottom: 20px;\n    display: flex;\n    align-items: center;\n    dt {\n      width: 50px;\n      color: #999;\n    }\n    dd {\n      color: #666;\n      &:last-child {\n        span {\n          margin-right: 10px;\n          &::before {\n            content: \"•\";\n            color: @xtxColor;\n            margin-right: 2px;\n          }\n        }\n        a {\n          color: @xtxColor;\n        }\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./goods-name.vue?vue&type=template&id=af785f8a&scoped=true\"\nimport script from \"./goods-name.vue?vue&type=script&lang=js\"\nexport * from \"./goods-name.vue?vue&type=script&lang=js\"\n\nimport \"./goods-name.vue?vue&type=style&index=0&id=af785f8a&lang=less&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/erabbit-web-front/erabbit-web-front/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-af785f8a\"]])\n\nexport default __exports__","<template>\n  <div class=\"goods-tabs\">\n    <nav>\n      <a\n        @click=\"activeName = 'GoodsDetial'\"\n        :class=\"{ active: activeName === 'GoodsDetial' }\"\n        href=\"javascript:;\"\n        >商品详情</a\n      >\n      <a\n        @click=\"activeName = 'GoodsComment'\"\n        :class=\"{ active: activeName === 'GoodsComment' }\"\n        href=\"javascript:;\"\n        >商品评价<span>({{goods.commentCount}})</span></a\n      >\n    </nav>\n    <!-- 切换内容的地方 其实两个组件-->\n    <!-- 在vue中动态的去切换组件其实可以使用动态组件component组件 -->\n    <!-- is属性用来决定component动态组件渲染为那个组件，组件的名称 -->\n    <!-- <GoodsDetial v-if=\"activeName === 'GoodsDetial'\" />\n    <GoodsComment v-if=\"activeName === 'GoodsComment'\" /> -->\n    <component :is=\"activeName\"></component>\n  </div>\n</template>\n<script>\nimport { ref, inject } from 'vue'\nimport GoodsDetial from './goods-detial'\nimport GoodsComment from './goods-comment'\nexport default {\n  name: 'GoodsTabs',\n  components: { GoodsDetial, GoodsComment },\n  setup () {\n    // activeName的值：GoodsDetial  GoodsComment\n    const activeName = ref('GoodsDetial')\n    // goods详情数据\n    const goods = inject('goods')\n    return { activeName, goods }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n.goods-tabs {\n  min-height: 600px;\n  background: #fff;\n  nav {\n    height: 70px;\n    line-height: 70px;\n    display: flex;\n    border-bottom: 1px solid #f5f5f5;\n    a {\n      padding: 0 40px;\n      font-size: 18px;\n      position: relative;\n      > span {\n        color: @priceColor;\n        font-size: 16px;\n        margin-left: 10px;\n      }\n      &:first-child {\n        border-right: 1px solid #f5f5f5;\n      }\n      &.active {\n        &::before {\n          content: \"\";\n          position: absolute;\n          left: 40px;\n          bottom: -1px;\n          width: 72px;\n          height: 2px;\n          background: @xtxColor;\n        }\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"goods-detail\">\n    <!-- 属性 -->\n    <ul class=\"attrs\">\n      <li v-for=\"item in goods.details.properties\" :key=\"item.value\">\n        <span class=\"dt\">{{item.name}}</span>\n        <span class=\"dd\">{{item.value}}</span>\n      </li>\n    </ul>\n    <!-- 图片 -->\n    <img v-for=\"item in goods.details.pictures\" :key=\"item\" :src=\"item\" alt=\"\">\n  </div>\n</template>\n<script>\nimport { inject } from 'vue'\nexport default {\n  name: 'GoodsDetial',\n  setup () {\n    const goods = inject('goods')\n    return { goods }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n.goods-detail {\n  padding: 40px;\n  .attrs {\n    display: flex;\n    flex-wrap: wrap;\n    margin-bottom: 30px;\n    li {\n      display: flex;\n      margin-bottom: 10px;\n      width: 50%;\n      .dt {\n        width: 100px;\n        color: #999;\n      }\n      .dd {\n        flex: 1;\n        color: #666;\n      }\n    }\n  }\n  > img {\n    width: 100%;\n  }\n}\n</style>\n","import { render } from \"./goods-detial.vue?vue&type=template&id=2c43c764&scoped=true\"\nimport script from \"./goods-detial.vue?vue&type=script&lang=js\"\nexport * from \"./goods-detial.vue?vue&type=script&lang=js\"\n\nimport \"./goods-detial.vue?vue&type=style&index=0&id=2c43c764&scoped=true&lang=less\"\n\nimport exportComponent from \"/home/runner/work/erabbit-web-front/erabbit-web-front/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2c43c764\"]])\n\nexport default __exports__","<template>\n  <div class=\"goods-comment\">\n    <!-- 评价头部 -->\n    <div class=\"head\" v-if=\"commentInfo\">\n      <div class=\"data\">\n        <p><span>{{ commentInfo.salesCount }}</span><span>人购买</span></p>\n        <p><span>{{ commentInfo.praisePercent }}</span><span>好评率</span></p>\n      </div>\n      <div class=\"tags\">\n        <div class=\"dt\">大家都在说：</div>\n        <div class=\"dd\">\n          <a\n            v-for=\"(item,i) in commentInfo.tags\"\n            :key=\"item.title\"\n            href=\"javascript:;\"\n            :class=\"{active:currentTagIndex===i}\"\n            @click=\"changeTag(i)\"\n            >{{item.title}}（{{item.tagCount}}）</a\n          >\n        </div>\n      </div>\n    </div>\n    <div class=\"sort\" v-if=\"commentInfo\">\n      <span>排序：</span>\n      <a @click=\"changeSort(null)\" :class=\"{active:reqParams.sortField===null}\" href=\"javascript:;\">默认</a>\n      <a @click=\"changeSort('createTime')\" :class=\"{active:reqParams.sortField==='createTime'}\" href=\"javascript:;\">最新</a>\n      <a @click=\"changeSort('praiseCount')\" :class=\"{active:reqParams.sortField==='praiseCount'}\" href=\"javascript:;\">最热</a>\n    </div>\n    <!-- 评价列表 -->\n    <div class=\"list\" v-if=\"commentList\">\n      <div class=\"item\" v-for=\"item in commentList\" :key=\"item.id\">\n        <div class=\"user\">\n          <img :src=\"item.member.avatar\" alt=\"\">\n          <span>{{formatNickname(item.member.nickname)}}</span>\n        </div>\n        <div class=\"body\">\n          <div class=\"score\">\n            <i v-for=\"i in item.score\" :key=\"i+'s'\" class=\"iconfont icon-wjx01\"></i>\n            <i v-for=\"i in 5-item.score\" :key=\"i+'k'\" class=\"iconfont icon-wjx02\"></i>\n            <span class=\"attr\">{{formatSpecs(item.orderInfo.specs)}}</span>\n          </div>\n          <div class=\"text\">{{item.content}}</div>\n          <!-- 评论图片组件 -->\n          <GoodsCommentImage v-if=\"item.pictures.length\" :pictures=\"item.pictures\" />\n          <div class=\"time\">\n            <span>{{item.createTime}}</span>\n            <span class=\"zan\"><i class=\"iconfont icon-dianzan\"></i>{{item.praiseCount}}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <!-- 分页组件 -->\n    <XtxPagination v-if=\"total\" @current-change=\"changePagerFn\" :page-size=\"reqParams.pageSize\" :current-page=\"reqParams.page\" />\n  </div>\n</template>\n<script>\nimport { inject, reactive, ref, watch } from 'vue'\nimport { findGoodsCommentInfo, findGoodsCommentList } from '@/api/product'\nimport GoodsCommentImage from './goods-comment-image'\nexport default {\n  name: 'GoodsComment',\n  components: { GoodsCommentImage },\n  setup () {\n    // 获取评价信息\n    const commentInfo = ref(null)\n    const goods = inject('goods')\n    findGoodsCommentInfo(goods.value.id).then((data) => {\n      data.result.tags.unshift({\n        title: '有图',\n        tagCount: data.result.hasPictureCount,\n        type: 'img'\n      })\n      data.result.tags.unshift({\n        title: '全部评价',\n        tagCount: data.result.evaluateCount,\n        type: 'all'\n      })\n      // 设置数据之前，tags数组前追加 有图tag  全部评价tag\n      commentInfo.value = data.result\n    })\n\n    // 激活tag\n    const currentTagIndex = ref(0)\n    const changeTag = (i) => {\n      currentTagIndex.value = i\n      // 点击tag的时候修改筛选条件\n      const tag = commentInfo.value.tags[i]\n      // 情况1：全部评价\n      // 情况2：有图\n      // 情况3：正常tag\n      if (tag.type === 'all') {\n        reqParams.hasPicture = null\n        reqParams.tag = null\n      } else if (tag.type === 'img') {\n        reqParams.hasPicture = true\n        reqParams.tag = null\n      } else {\n        reqParams.hasPicture = null\n        reqParams.tag = tag.title\n      }\n      // 重置页码1\n      reqParams.page = 1\n    }\n\n    // 点击排序\n    const changeSort = (sortField) => {\n      reqParams.sortField = sortField\n      // 重置页码1\n      reqParams.page = 1\n    }\n\n    // 准备筛选条件数据\n    const reqParams = reactive({\n      page: 1,\n      pageSize: 10,\n      hasPicture: null,\n      tag: null,\n      // 排序方式：praiseCount 热度  createTime 最新\n      sortField: null\n    })\n\n    // 初始化需要发请求，筛选条件发生改变发请求\n    const commentList = ref([])\n    const total = ref(0)\n    watch(reqParams, () => {\n      findGoodsCommentList(goods.value.id, reqParams).then(data => {\n        commentList.value = data.result.items\n        total.value = data.result.counts\n      })\n    }, { immediate: true })\n\n    // 定义转换数据的函数（对应vue2.0的过滤器）\n    const formatSpecs = (specs) => {\n      return specs.reduce((p, c) => `${p} ${c.name}：${c.nameValue}`, '').trim()\n    }\n    const formatNickname = (nickname) => {\n      return nickname.substr(0, 1) + '****' + nickname.substr(-1)\n    }\n\n    // 实现分页切换\n    const changePagerFn = (newPage) => {\n      reqParams.page = newPage\n    }\n\n    return { commentInfo, currentTagIndex, changeTag, reqParams, commentList, changeSort, formatSpecs, formatNickname, total, changePagerFn }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n.goods-comment {\n  .head {\n    display: flex;\n    padding: 30px 0;\n    .data {\n      width: 340px;\n      display: flex;\n      padding: 20px;\n      p {\n        flex: 1;\n        text-align: center;\n        span {\n          display: block;\n          &:first-child {\n            font-size: 32px;\n            color: @priceColor;\n          }\n          &:last-child {\n            color: #999;\n          }\n        }\n      }\n    }\n    .tags {\n      flex: 1;\n      display: flex;\n      border-left: 1px solid #f5f5f5;\n      .dt {\n        font-weight: bold;\n        width: 100px;\n        text-align: right;\n        line-height: 42px;\n      }\n      .dd {\n        flex: 1;\n        display: flex;\n        flex-wrap: wrap;\n        > a {\n          width: 132px;\n          height: 42px;\n          margin-left: 20px;\n          margin-bottom: 20px;\n          border-radius: 4px;\n          border: 1px solid #e4e4e4;\n          background: #f5f5f5;\n          color: #999;\n          text-align: center;\n          line-height: 40px;\n          &:hover {\n            border-color: @xtxColor;\n            background: lighten(@xtxColor, 50%);\n            color: @xtxColor;\n          }\n          &.active {\n            border-color: @xtxColor;\n            background: @xtxColor;\n            color: #fff;\n          }\n        }\n      }\n    }\n  }\n  .sort {\n    height: 60px;\n    line-height: 60px;\n    border-top: 1px solid #f5f5f5;\n    border-bottom: 1px solid #f5f5f5;\n    margin: 0 20px;\n    color: #666;\n    > span {\n      margin-left: 20px;\n    }\n    > a {\n      margin-left: 30px;\n      &.active,\n      &:hover {\n        color: @xtxColor;\n      }\n    }\n  }\n    .list {\n    padding: 0 20px;\n    .item {\n      display: flex;\n      padding: 25px 10px;\n      border-bottom: 1px solid #f5f5f5;\n      .user {\n        width: 160px;\n        img {\n          width: 40px;\n          height: 40px;\n          border-radius: 50%;\n          overflow: hidden;\n        }\n        span {\n          padding-left: 10px;\n          color: #666;\n        }\n      }\n      .body {\n        flex: 1;\n        .score {\n          line-height: 40px;\n          .iconfont {\n            color: #ff9240;\n            padding-right: 3px;\n          }\n          .attr {\n            padding-left: 10px;\n            color: #666;\n          }\n        }\n      }\n      .text {\n        color: #666;\n        line-height: 24px;\n      }\n      .time {\n        color: #999;\n        display: flex;\n        justify-content: space-between;\n        margin-top: 5px;\n      }\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"goods-comment-image\">\n    <div class=\"list\">\n      <a :class=\"{active:currImg===url}\" @click=\"currImg=url\"  href=\"javascript:;\" v-for=\"url in pictures\" :key=\"url\">\n        <img :src=\"url\" alt=\"\">\n      </a>\n    </div>\n    <div class=\"preview\" v-if=\"currImg\">\n      <img :src=\"currImg\" alt=\"\">\n      <i @click=\"currImg=null\" class=\"iconfont icon-close-new\"></i>\n    </div>\n  </div>\n</template>\n<script>\nimport { ref } from 'vue'\nexport default {\n  name: 'GoodsCommentImage',\n  props: {\n    pictures: {\n      type: Array,\n      default: () => []\n    }\n  },\n  setup () {\n    const currImg = ref(null)\n    return { currImg }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n.goods-comment-image {\n  .list {\n    display: flex;\n    flex-wrap: wrap;\n    margin-top: 10px;\n    a {\n      width: 120px;\n      height: 120px;\n      border:1px solid #e4e4e4;\n      margin-right: 20px;\n      margin-bottom: 10px;\n      img {\n        width: 100%;\n        height: 100%;\n        object-fit: contain;\n      }\n      &.active {\n        border-color: @xtxColor;\n      }\n    }\n  }\n}\n .preview {\n    width: 480px;\n    height: 480px;\n    border: 1px solid #e4e4e4;\n    background: #f8f8f8;\n    margin-bottom: 20px;\n    position: relative;\n    img {\n        width: 100%;\n        height: 100%;\n        object-fit: contain;\n    }\n    i {\n      position: absolute;\n      right: 0;\n      top: 0;\n      width: 30px;\n      height: 30px;\n      background: rgba(0,0,0,0.2);\n      color: #fff;\n      text-align: center;\n      line-height: 30px;\n    }\n  }\n</style>\n","import { render } from \"./goods-comment-image.vue?vue&type=template&id=2174e057&scoped=true\"\nimport script from \"./goods-comment-image.vue?vue&type=script&lang=js\"\nexport * from \"./goods-comment-image.vue?vue&type=script&lang=js\"\n\nimport \"./goods-comment-image.vue?vue&type=style&index=0&id=2174e057&scoped=true&lang=less\"\n\nimport exportComponent from \"/home/runner/work/erabbit-web-front/erabbit-web-front/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2174e057\"]])\n\nexport default __exports__","import { render } from \"./goods-comment.vue?vue&type=template&id=11a3bb63&scoped=true\"\nimport script from \"./goods-comment.vue?vue&type=script&lang=js\"\nexport * from \"./goods-comment.vue?vue&type=script&lang=js\"\n\nimport \"./goods-comment.vue?vue&type=style&index=0&id=11a3bb63&scoped=true&lang=less\"\n\nimport exportComponent from \"/home/runner/work/erabbit-web-front/erabbit-web-front/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-11a3bb63\"]])\n\nexport default __exports__","import { render } from \"./goods-tabs.vue?vue&type=template&id=8f5c12d6&scoped=true\"\nimport script from \"./goods-tabs.vue?vue&type=script&lang=js\"\nexport * from \"./goods-tabs.vue?vue&type=script&lang=js\"\n\nimport \"./goods-tabs.vue?vue&type=style&index=0&id=8f5c12d6&scoped=true&lang=less\"\n\nimport exportComponent from \"/home/runner/work/erabbit-web-front/erabbit-web-front/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8f5c12d6\"]])\n\nexport default __exports__","<template>\n  <div class=\"goods-hot\">\n    <h3>{{title}}</h3>\n    <div v-if=\"goodsList\">\n      <GoodsItem v-for=\"item in goodsList\" :key=\"item.id\" :goods=\"item\" />\n    </div>\n  </div>\n</template>\n<script>\nimport GoodsItem from '@/views/category/components/goods-item'\nimport { computed, ref } from 'vue'\nimport { findGoodsHot } from '@/api/product'\nimport { useRoute } from 'vue-router'\nexport default {\n  name: 'GoodsHot',\n  components: { GoodsItem },\n  props: {\n    // 热榜类型\n    type: {\n      type: Number,\n      default: 1\n    }\n  },\n  setup (props) {\n    // 类型数据字典\n    const types = { 1: '24小时热销榜', 2: '周热销榜', 3: '总热销榜' }\n    const title = computed(() => {\n      return types[props.type]\n    })\n    // 发请求获取数据\n    const route = useRoute()\n    const goodsList = ref([])\n    findGoodsHot({ id: route.params.id, type: props.type }).then(data => {\n      goodsList.value = data.result\n    })\n    return { title, goodsList }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n.goods-hot {\n  h3 {\n    height: 70px;\n    background: @helpColor;\n    color: #fff;\n    font-size: 18px;\n    line-height: 70px;\n    padding-left: 25px;\n    margin-bottom: 10px;\n    font-weight: normal;\n  }\n  :deep(.goods-item) {\n    background: #fff;\n    width: 100%;\n    margin-bottom: 10px;\n    img {\n      width: 200px;\n      height: 200px;\n    }\n    p {\n      margin: 0 10px;\n    }\n    &:hover {\n      transform: none;\n      box-shadow: none;\n    }\n  }\n}\n</style>\n","import { render } from \"./goods-hot.vue?vue&type=template&id=e4f0992c&scoped=true\"\nimport script from \"./goods-hot.vue?vue&type=script&lang=js\"\nexport * from \"./goods-hot.vue?vue&type=script&lang=js\"\n\nimport \"./goods-hot.vue?vue&type=style&index=0&id=e4f0992c&scoped=true&lang=less\"\n\nimport exportComponent from \"/home/runner/work/erabbit-web-front/erabbit-web-front/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e4f0992c\"]])\n\nexport default __exports__","<template>\n  <!-- 注意事项 -->\n  <div class=\"goods-warn\">\n    <h3>注意事项</h3>\n    <p class=\"tit\">• 购买运费如何收取？</p>\n    <p>\n      单笔订单金额(不含运费)满88元免邮费；不满88元，每单收取10元运费。（港澳台地区需满500元免邮费；不满500元，每单收取30元运费)\n    </p>\n    <br />\n    <p class=\"tit\">• 使用什么快递发货?</p>\n    <p>默认使用顺丰快递发货(个别商品使用其他快递）</p>\n    <p>配送范围覆盖全国大部分地区(港澳台地区除外）</p>\n    <br />\n    <p class=\"tit\">• 如何申请退货?</p>\n    <p>\n      1.自收到商品之日起30日内，顾客可申请无忧退货，退款将原路返还，不同的银行处理时间不同，预计1-5个工作日到账；\n    </p>\n    <p>2.内裤和食品等特殊商品无质量问题不支持退货；</p>\n    <p>\n      3.退货流程：\n      确认收货-申请退货-客服审核通过-用户寄回商品-仓库签收验货-退款审核-退款完成；\n    </p>\n    <p>\n      4.因小兔鲜儿产生的退货，如质量问题，退货邮费由小兔鲜儿承担，退款完成后会以现金券的形式报销。因客户个人原因产生的退货，购买和寄回运费由客户个人承担。\n    </p>\n  </div>\n</template>\n<style lang=\"less\" scoped>\n.goods-warn {\n  margin-top: 20px;\n  background: #fff;\n  padding-bottom: 40px;\n  h3 {\n    height: 70px;\n    line-height: 70px;\n    border-bottom: 1px solid #f5f5f5;\n    padding-left: 50px;\n    font-size: 18px;\n    font-weight: normal;\n    margin-bottom: 10px;\n  }\n  p {\n    line-height: 40px;\n    padding: 0 25px;\n    color: #666;\n    &.tit {\n      color: #333;\n    }\n  }\n}\n</style>\n","import { render } from \"./goods-warn.vue?vue&type=template&id=2d293123&scoped=true\"\nconst script = {}\n\nimport \"./goods-warn.vue?vue&type=style&index=0&id=2d293123&lang=less&scoped=true\"\n\nimport exportComponent from \"/home/runner/work/erabbit-web-front/erabbit-web-front/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2d293123\"]])\n\nexport default __exports__","import { render } from \"./index.vue?vue&type=template&id=720f8111&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=720f8111&scoped=true&lang=less\"\n\nimport exportComponent from \"/home/runner/work/erabbit-web-front/erabbit-web-front/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-720f8111\"]])\n\nexport default __exports__","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-image.vue?vue&type=style&index=0&id=4e17a18a&scoped=true&lang=less\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-hot.vue?vue&type=style&index=0&id=e4f0992c&scoped=true&lang=less\"","// 提供商品相关的API函数\nimport request from '@/utils/request'\n\n/**\n * 获取商品详情\n * @param {String} id - 商品ID\n */\nexport const findGoods = (id) => {\n  return request('/goods', 'get', { id })\n}\n\n/**\n * 获取相关推荐商品|猜你喜欢商品\n * @param {String} id - 商品ID，传入相关推荐，不传猜你喜欢\n * @param {Integer} limit - 商品数量\n */\nexport const findRelevantGoods = ({ id, limit = 16 }) => {\n  return request('/goods/relevant', 'get', { id, limit })\n}\n\n/**\n * 获取热销榜数据\n * @param {String} id - 商品ID\n * @param {Integer} limit - 商品数量\n * @param {Integer} type - 热销类型，1为24小时，2为周榜，3为总榜，默认为1\n */\nexport const findGoodsHot = ({ id, limit = 3, type = 1 }) => {\n  return request('/goods/hot', 'get', { id, limit, type })\n}\n\n/**\n * 查询商品评价信息\n * @param {String} id - 商品ID\n * @returns\n */\nexport const findGoodsCommentInfo = (id) => {\n  // return request(`/goods/${id}/evaluate`, 'get')\n  // axios 遇见 http https 开头的地址，不会加上基准地址\n  return request(`https://mock.boxuegu.com/mock/1175/goods/${id}/evaluate`, 'get')\n}\n\n/**\n * 查询商品评价列表\n * @param {String} id - 商品ID\n * @param {Object} params - 商品ID\n * @returns\n */\nexport const findGoodsCommentList = (id, params) => {\n  return request(`https://mock.boxuegu.com/mock/1175/goods/${id}/evaluate/page`, 'get', params)\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-sku.vue?vue&type=style&index=0&id=0fe429cd&scoped=true&lang=less\"","<template>\n  <div class=\"goods-sku\">\n    <dl v-for=\"item in goods.specs\" :key=\"item.id\">\n      <dt>{{item.name}}</dt>\n      <dd>\n        <template v-for=\"val in item.values\" :key=\"val.name\">\n          <img :class=\"{selected:val.selected,disabled:val.disabled}\" @click=\"changeSku(item,val)\" v-if=\"val.picture\" :src=\"val.picture\" :title=\"val.name\" >\n          <span :class=\"{selected:val.selected,disabled:val.disabled}\" @click=\"changeSku(item,val)\" v-else>{{val.name}}</span>\n        </template>\n      </dd>\n    </dl>\n  </div>\n</template>\n<script>\nimport powerSet from '@/vender/power-set'\nconst spliter = '★'\n// 得到一个路径字典对象\nconst getPathMap = (skus) => {\n  // 1. 得到所有的sku集合  props.goods.skus\n  // 2. 从所有的sku中筛选出有效的sku\n  // 3. 根据有效的sku使用power-set算法得到子集\n  // 4. 根据子集往路径字典对象中存储 key-value\n  const pathMap = {}\n  skus.forEach(sku => {\n    if (sku.inventory > 0) {\n      // 计算当前有库存的sku的子集\n      // 例如：[1,2,3] ==> [[1],[2],[3],[1,2],[1,3],[2,3],[1,2,3]]\n      // 可选值数组\n      const valueArr = sku.specs.map(val => val.valueName)\n      // 可选值数组 子集\n      const valueArrPowerSet = powerSet(valueArr)\n      // 遍历子集，往pathMap插入数据\n      valueArrPowerSet.forEach(arr => {\n        // 根据arr得到字符串的key，约定key是：['蓝色','美国'] ===> '蓝色★美国'\n        const key = arr.join(spliter)\n        // 给pathMap设置数据\n        if (pathMap[key]) {\n          pathMap[key].push(sku.id)\n        } else {\n          pathMap[key] = [sku.id]\n        }\n      })\n    }\n  })\n  return pathMap\n}\n// 获取已选中的值数组\nconst getSelectedValues = (specs) => {\n  const arr = []\n  specs.forEach(item => {\n    // 选中的按钮对象\n    const seletedVal = item.values.find(val => val.selected)\n    arr.push(seletedVal ? seletedVal.name : undefined)\n  })\n  return arr\n}\n// 更新按钮禁用状态\nconst updateDisabledStatus = (specs, pathMap) => {\n  // 1. 约定每一个按钮的状态由本身的disabled数据来控制\n  specs.forEach((item, i) => {\n    const selectedValues = getSelectedValues(specs)\n    item.values.forEach(val => {\n      // 2. 判断当前是否选中，是选中不用判断\n      if (val.selected) return\n      // 3. 拿当前的值按照顺序套入选中的值数组\n      selectedValues[i] = val.name\n      // 4. 剔除undefined数据，按照分隔符拼接key\n      const key = selectedValues.filter(value => value).join(spliter)\n      // 5. 拿着key去路径字典中查找是否有数据，有可以点击，没有就禁用（true）\n      val.disabled = !pathMap[key]\n    })\n  })\n}\n// 默认选中\nconst initDefaultSelected = (goods, skuId) => {\n  // 1. 找出sku的信息\n  // 2. 遍历每一个按钮，按钮的值和sku记录的值相同，就选中。\n  const sku = goods.skus.find(sku => sku.id === skuId)\n  goods.specs.forEach((item, i) => {\n    const val = item.values.find(val => val.name === sku.specs[i].valueName)\n    val.selected = true\n  })\n}\n\nexport default {\n  name: 'GoodsSku',\n  props: {\n    goods: {\n      type: Object,\n      default: () => ({})\n    },\n    skuId: {\n      type: String,\n      default: ''\n    }\n  },\n  setup (props, { emit }) {\n    const pathMap = getPathMap(props.goods.skus)\n    // 根据skuId初始化选中\n    if (props.skuId) {\n      initDefaultSelected(props.goods, props.skuId)\n    }\n    // ☆组件初始化：更新按钮禁用状态\n    updateDisabledStatus(props.goods.specs, pathMap)\n    // 1. 选中与取消选中，约定在每一个按钮都拥有自己的选中状态数据：selected\n    // 1.1 点击的是已选中，只需要取消当前的选中\n    // 1.2 点击的是未选中，把同一个规格的按钮改成未选中，当前点击的改成选中\n    const changeSku = (item, val) => {\n      // 当按钮是禁用的阻止程序运行\n      if (val.disabled) return\n      // 如果不是禁用正常运行\n      if (val.selected) {\n        val.selected = false\n      } else {\n        item.values.forEach(valItem => {\n          valItem.selected = false\n        })\n        val.selected = true\n      }\n      // ☆点击按钮时：更新按钮禁用状态\n      updateDisabledStatus(props.goods.specs, pathMap)\n      // 将你选择的sku信息通知父组件{skuId,price,oldPrice,inventory,specsText}\n      // 1. 选择完整的sku组合按钮，才可以拿到这些信息，提交父组件\n      // 2. 不是完整的sku组合按钮，提交空对象父组件\n      const validSelectedValues = getSelectedValues(props.goods.specs).filter(v => v)\n      if (validSelectedValues.length === props.goods.specs.length) {\n        // 完整\n        const skuIds = pathMap[validSelectedValues.join(spliter)]\n        const sku = props.goods.skus.find(sku => sku.id === skuIds[0])\n        emit('change', {\n          skuId: sku.id,\n          price: sku.price,\n          oldPrice: sku.oldPrice,\n          inventory: sku.inventory,\n          // 属性名：属性值 属性名1：属性值1 ... 这样的字符串\n          specsText: sku.specs.reduce((p, c) => `${p} ${c.name}：${c.valueName}`, '').trim()\n        })\n      } else {\n        // 不完整\n        // 父组件需要判断是否规格选择完整，不完整不能加购物车。\n        emit('change', {})\n      }\n    }\n    return { changeSku }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n.sku-state-mixin () {\n  border: 1px solid #e4e4e4;\n  margin-right: 10px;\n  cursor: pointer;\n  &.selected {\n    border-color: @xtxColor;\n  }\n  &.disabled {\n    opacity: 0.6;\n    border-style: dashed;\n    cursor: not-allowed;\n  }\n}\n.goods-sku {\n  padding-left: 10px;\n  padding-top: 20px;\n  dl {\n    display: flex;\n    padding-bottom: 10px;\n    align-items: center;\n    dt {\n      width: 50px;\n      color: #999;\n    }\n    dd {\n      flex: 1;\n      color: #666;\n      line-height: 40px;\n      > img {\n        width: 50px;\n        height: 50px;\n        margin-bottom: 5px;\n        .sku-state-mixin ();\n      }\n      > span {\n        display: inline-block;\n        height: 30px;\n        line-height: 28px;\n        padding: 0 20px;\n        .sku-state-mixin ();\n      }\n    }\n  }\n}\n</style>\n","/**\n * Find power-set of a set using BITWISE approach.\n *\n * @param {*[]} originalSet\n * @return {*[][]}\n */\n export default function bwPowerSet(originalSet) {\n  const subSets = [];\n\n  // We will have 2^n possible combinations (where n is a length of original set).\n  // It is because for every element of original set we will decide whether to include\n  // it or not (2 options for each set element).\n  const numberOfCombinations = 2 ** originalSet.length;\n\n  // Each number in binary representation in a range from 0 to 2^n does exactly what we need:\n  // it shows by its bits (0 or 1) whether to include related element from the set or not.\n  // For example, for the set {1, 2, 3} the binary number of 0b010 would mean that we need to\n  // include only \"2\" to the current set.\n  for (let combinationIndex = 0; combinationIndex < numberOfCombinations; combinationIndex += 1) {\n    const subSet = [];\n\n    for (let setElementIndex = 0; setElementIndex < originalSet.length; setElementIndex += 1) {\n      // Decide whether we need to include current element into the subset or not.\n      if (combinationIndex & (1 << setElementIndex)) {\n        subSet.push(originalSet[setElementIndex]);\n      }\n    }\n\n    // Add current subset to the list of all subsets.\n    subSets.push(subSet);\n  }\n\n  return subSets;\n}","import { render } from \"./goods-sku.vue?vue&type=template&id=0fe429cd&scoped=true\"\nimport script from \"./goods-sku.vue?vue&type=script&lang=js\"\nexport * from \"./goods-sku.vue?vue&type=script&lang=js\"\n\nimport \"./goods-sku.vue?vue&type=style&index=0&id=0fe429cd&scoped=true&lang=less\"\n\nimport exportComponent from \"/home/runner/work/erabbit-web-front/erabbit-web-front/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0fe429cd\"]])\n\nexport default __exports__"],"sourceRoot":""}