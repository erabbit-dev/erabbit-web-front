{"version":3,"sources":["webpack:///./src/api/home.js","webpack:///./src/views/category/components/goods-item.vue?d92e","webpack:///./src/views/category/index.vue?e258","webpack:///./src/views/category/components/goods-item.vue","webpack:///./src/views/category/components/goods-item.vue?ffe0","webpack:///./src/views/category/index.vue","webpack:///./src/views/category/index.vue?05e4"],"names":["findBrand","limit","request","findBanner","findNew","findHot","findGoods","findSpecial","alt","class","href","$props","isLink","_createBlock","_component_RouterLink","to","goods","id","_createElementVNode","_hoisted_1","picture","_hoisted_2","_toDisplayString","name","_hoisted_3","desc","_hoisted_4","price","_createElementBlock","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","props","type","Object","default","Boolean","__exports__","render","_createVNode","_component_XtxBread","_component_XtxBreadItem","_Transition","mode","key","$setup","topCategory","_component_XtxCarousel","auto-play","sliders","style","_Fragment","_renderList","children","sub","src","subList","_component_XtxMore","path","_component_GoodsItem","components","GoodsItem","setup","ref","then","data","value","result","store","useStore","route","useRoute","computed","cate","item","state","category","list","find","params","getSubList","findTopCategory","watch","newVal","immediate"],"mappings":"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","file":"js/chunk-6371f6ac.b36ec2a3.js","sourcesContent":["// 提供首页相关API函数\nimport request from '@/utils/request'\n\n/**\n * 获取品牌\n * @param {Integer} limit - 品牌个数\n * @returns Promise\n */\nexport const findBrand = (limit = 6) => {\n  return request('/home/brand', 'get', { limit })\n}\n\n/**\n * 获取广告区轮播图\n * @returns Promise\n */\nexport const findBanner = () => {\n  return request('/home/banner', 'get')\n}\n\n/**\n * 获取新鲜好物\n * @returns Promise\n */\nexport const findNew = () => {\n  return request('/home/new', 'get')\n}\n\n/**\n * 获取人气推荐\n * @returns Promise\n */\nexport const findHot = () => {\n  return request('/home/hot', 'get')\n}\n\n/**\n * 获取商品板块\n * @returns Promise\n */\nexport const findGoods = () => {\n  return request('/home/goods', 'get')\n}\n\n/**\n * 获取最新专题\n * @returns Promise\n */\nexport const findSpecial = () => {\n  return request('/home/special', 'get')\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./goods-item.vue?vue&type=style&index=0&id=3828c3be&scoped=true&lang=less\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./index.vue?vue&type=style&index=0&id=6b07c3bf&scoped=true&lang=less\"","<template>\n  <RouterLink v-if=\"isLink\" :to=\"`/product/${goods.id}`\" class='goods-item'>\n    <img v-lazy=\"goods.picture\" alt=\"\">\n    <p class=\"name ellipsis\">{{goods.name}}</p>\n    <p class=\"desc ellipsis\">{{goods.desc}}</p>\n    <p class=\"price\">&yen;{{goods.price}}</p>\n  </RouterLink>\n  <a v-else href=\"javascript:;\" class='goods-item'>\n    <img v-lazy=\"goods.picture\" alt=\"\">\n    <p class=\"name ellipsis\">{{goods.name}}</p>\n    <p class=\"desc ellipsis\">{{goods.desc}}</p>\n    <p class=\"price\">&yen;{{goods.price}}</p>\n  </a>\n</template>\n\n<script>\nexport default {\n  name: 'GoodsItem',\n  props: {\n    goods: {\n      type: Object,\n      default: () => ({})\n    },\n    isLink: {\n      type: Boolean,\n      default: true\n    }\n  }\n}\n</script>\n\n<style scoped lang='less'>\n.goods-item {\n  display: block;\n  width: 220px;\n  padding: 20px 30px;\n  text-align: center;\n  .hoverShadow();\n  img {\n    width: 160px;\n    height: 160px;\n  }\n  p {\n    padding-top: 10px;\n  }\n  .name {\n    font-size: 16px;\n  }\n  .desc {\n    color: #999;\n    height: 29px;\n  }\n  .price {\n    color: @priceColor;\n    font-size: 20px;\n  }\n}\n</style>\n","import { render } from \"./goods-item.vue?vue&type=template&id=3828c3be&scoped=true\"\nimport script from \"./goods-item.vue?vue&type=script&lang=js\"\nexport * from \"./goods-item.vue?vue&type=script&lang=js\"\n\nimport \"./goods-item.vue?vue&type=style&index=0&id=3828c3be&scoped=true&lang=less\"\n\nimport exportComponent from \"/home/runner/work/erabbit-web-front/erabbit-web-front/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3828c3be\"]])\n\nexport default __exports__","<template>\n  <div class=\"top-category\">\n    <div class=\"container\">\n      <!-- 面包屑 -->\n      <XtxBread>\n        <XtxBreadItem to=\"/\">首页</XtxBreadItem>\n        <Transition name=\"fade-right\" mode=\"out-in\">\n          <XtxBreadItem :key=\"topCategory.id\">{{topCategory.name}}</XtxBreadItem>\n        </Transition>\n      </XtxBread>\n      <!-- 轮播图 -->\n      <XtxCarousel auto-play :sliders=\"sliders\" style=\"height:500px\" />\n      <!-- 所有二级分类 -->\n      <div class=\"sub-list\">\n        <h3>全部分类</h3>\n        <ul>\n          <li v-for=\"sub in topCategory.children\" :key=\"sub.id\">\n            <RouterLink :to=\"`/category/sub/${sub.id}`\">\n              <img :src=\"sub.picture\" >\n              <p>{{sub.name}}</p>\n            </RouterLink>\n          </li>\n        </ul>\n      </div>\n      <!-- 各个分类推荐商品 -->\n      <div class=\"ref-goods\" v-for=\"sub in subList\" :key=\"sub.id\">\n        <div class=\"head\">\n          <h3>- {{sub.name}} -</h3>\n          <p class=\"tag\">温暖柔软，品质之选</p>\n          <XtxMore :path=\"`/category/sub/${sub.id}`\" />\n        </div>\n        <div class=\"body\">\n          <GoodsItem v-for=\"goods in sub.goods\" :key=\"goods.id\" :goods=\"goods\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { computed, ref, watch } from 'vue'\nimport { findBanner } from '@/api/home'\nimport { useStore } from 'vuex'\nimport { useRoute } from 'vue-router'\nimport GoodsItem from './components/goods-item'\nimport { findTopCategory } from '@/api/category'\nexport default {\n  name: 'TopCategory',\n  components: { GoodsItem },\n  setup () {\n    // 轮播图\n    const sliders = ref([])\n    findBanner().then(data => {\n      sliders.value = data.result\n    })\n\n    // 面包屑+所有子分类 ====> vuex\n    const store = useStore()\n    const route = useRoute()\n    const topCategory = computed(() => {\n      let cate = {}\n      // 当前顶级分类 === 根据路由上的ID去vuex中category模块的list中查找\n      const item = store.state.category.list.find(item => {\n        return item.id === route.params.id\n      })\n      // 找到数据赋值\n      if (item) cate = item\n      return cate\n    })\n\n    // 获取各个子类目下推荐商品\n    const subList = ref([])\n    const getSubList = () => {\n      findTopCategory(route.params.id).then(data => {\n        subList.value = data.result.children\n      })\n    }\n    watch(() => route.params.id, (newVal) => {\n      // newVal && getSubList() 加上一个严谨判断，在顶级类名下才发请求\n      if (newVal && `/category/${newVal}` === route.path) getSubList()\n    }, { immediate: true })\n\n    return {\n      sliders,\n      topCategory,\n      subList\n    }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n.top-category {\n  h3 {\n    font-size: 28px;\n    color: #666;\n    font-weight: normal;\n    text-align: center;\n    line-height: 100px;\n  }\n  .sub-list {\n    margin-top: 20px;\n    background-color: #fff;\n    ul {\n      display: flex;\n      padding: 0 32px;\n      flex-wrap: wrap;\n      min-height: 160px;\n      li {\n        width: 168px;\n        height: 160px;\n        a {\n          text-align: center;\n          display: block;\n          font-size: 16px;\n          img {\n            width: 100px;\n            height: 100px;\n          }\n          p {\n            line-height: 40px;\n          }\n          &:hover {\n            color: @xtxColor;\n          }\n        }\n      }\n    }\n  }\n  // 推荐商品\n  .ref-goods {\n    background-color: #fff;\n    margin-top: 20px;\n    position: relative;\n    .head {\n      .xtx-more {\n        position: absolute;\n        top: 20px;\n        right: 20px;\n      }\n      .tag {\n        text-align: center;\n        color: #999;\n        font-size: 20px;\n        position: relative;\n        top: -20px;\n      }\n    }\n    .body {\n      display: flex;\n      justify-content: flex-start;\n      flex-wrap: wrap;\n      padding: 0 65px 30px;\n    }\n  }\n}\n</style>\n","import { render } from \"./index.vue?vue&type=template&id=6b07c3bf&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=6b07c3bf&scoped=true&lang=less\"\n\nimport exportComponent from \"/home/runner/work/erabbit-web-front/erabbit-web-front/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6b07c3bf\"]])\n\nexport default __exports__"],"sourceRoot":""}